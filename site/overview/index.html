
<!doctype html>
<html lang="en" class="no-js">
  <head>

      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">




        <link rel="prev" href="..">


        <link rel="next" href="../guide/">


      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.15">



        <title>Overview - tmt</title>



      <link rel="stylesheet" href="../assets/stylesheets/main.342714a4.min.css">












        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>



      <link rel="stylesheet" href="../assets/_mkdocstrings.css">

    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>






  </head>


    <body dir="ltr">


    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">


        <a href="#overview" class="md-skip">
          Skip to content
        </a>

    </div>
    <div data-md-component="announce">

    </div>






<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="tmt" class="md-header__button md-logo" aria-label="tmt" data-md-component="logo">


  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">

      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            tmt
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">

              Overview

          </span>
        </div>
      </div>
    </div>


      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>





        <label class="md-header__button md-icon" for="__search">

          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">

        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>

        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">

        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">

          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>

    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>



      <div class="md-header__source">
        <a href="https://github.com/teemtee/tmt" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">

    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>

  </nav>

</header>

    <div class="md-container" data-md-component="container">






      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">



              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">




<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="tmt" class="md-nav__button md-logo" aria-label="tmt" data-md-component="logo">


  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    tmt
  </label>

    <div class="md-nav__source">
      <a href="https://github.com/teemtee/tmt" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">

    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>

  <ul class="md-nav__list" data-md-scrollfix>







    <li class="md-nav__item">
      <a href=".." class="md-nav__link">



  <span class="md-ellipsis">
    Home

  </span>


      </a>
    </li>











    <li class="md-nav__item md-nav__item--active">

      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">





        <label class="md-nav__link md-nav__link--active" for="__toc">



  <span class="md-ellipsis">
    Overview

  </span>


          <span class="md-nav__icon md-icon"></span>
        </label>

      <a href="./" class="md-nav__link md-nav__link--active">



  <span class="md-ellipsis">
    Overview

  </span>


      </a>



<nav class="md-nav md-nav--secondary" aria-label="Table of contents">






    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>

        <li class="md-nav__item">
  <a href="#description" class="md-nav__link">
    <span class="md-ellipsis">
      Description
    </span>
  </a>

</li>

        <li class="md-nav__item">
  <a href="#specification" class="md-nav__link">
    <span class="md-ellipsis">
      Specification
    </span>
  </a>

</li>

        <li class="md-nav__item">
  <a href="#synopsis" class="md-nav__link">
    <span class="md-ellipsis">
      Synopsis
    </span>
  </a>

</li>

        <li class="md-nav__item">
  <a href="#examples" class="md-nav__link">
    <span class="md-ellipsis">
      Examples
    </span>
  </a>

</li>

        <li class="md-nav__item">
  <a href="#options" class="md-nav__link">
    <span class="md-ellipsis">
      Options
    </span>
  </a>

    <nav class="md-nav" aria-label="Options">
      <ul class="md-nav__list">

          <li class="md-nav__item">
  <a href="#run" class="md-nav__link">
    <span class="md-ellipsis">
      Run
    </span>
  </a>

</li>

          <li class="md-nav__item">
  <a href="#tests" class="md-nav__link">
    <span class="md-ellipsis">
      Tests
    </span>
  </a>

</li>

          <li class="md-nav__item">
  <a href="#plans" class="md-nav__link">
    <span class="md-ellipsis">
      Plans
    </span>
  </a>

</li>

          <li class="md-nav__item">
  <a href="#stories" class="md-nav__link">
    <span class="md-ellipsis">
      Stories
    </span>
  </a>

</li>

          <li class="md-nav__item">
  <a href="#utils" class="md-nav__link">
    <span class="md-ellipsis">
      Utils
    </span>
  </a>

</li>

      </ul>
    </nav>

</li>

        <li class="md-nav__item">
  <a href="#install" class="md-nav__link">
    <span class="md-ellipsis">
      Install
    </span>
  </a>

    <nav class="md-nav" aria-label="Install">
      <ul class="md-nav__list">

          <li class="md-nav__item">
  <a href="#pip-install" class="md-nav__link">
    <span class="md-ellipsis">
      pip install
    </span>
  </a>

</li>

      </ul>
    </nav>

</li>

        <li class="md-nav__item">
  <a href="#shell-completion" class="md-nav__link">
    <span class="md-ellipsis">
      Shell Completion
    </span>
  </a>

</li>

        <li class="md-nav__item">
  <a href="#exit-codes" class="md-nav__link">
    <span class="md-ellipsis">
      Exit Codes
    </span>
  </a>

</li>

        <li class="md-nav__item">
  <a href="#variables" class="md-nav__link">
    <span class="md-ellipsis">
      Variables
    </span>
  </a>

    <nav class="md-nav" aria-label="Variables">
      <ul class="md-nav__list">

          <li class="md-nav__item">
  <a href="#command-variables" class="md-nav__link">
    <span class="md-ellipsis">
      Command Variables
    </span>
  </a>

</li>

          <li class="md-nav__item">
  <a href="#step-variables" class="md-nav__link">
    <span class="md-ellipsis">
      Step Variables
    </span>
  </a>

</li>

          <li class="md-nav__item">
  <a href="#test-variables" class="md-nav__link">
    <span class="md-ellipsis">
      Test Variables
    </span>
  </a>

</li>

          <li class="md-nav__item">
  <a href="#plugin-variables" class="md-nav__link">
    <span class="md-ellipsis">
      Plugin Variables
    </span>
  </a>

</li>

      </ul>
    </nav>

</li>

        <li class="md-nav__item">
  <a href="#regular-expressions" class="md-nav__link">
    <span class="md-ellipsis">
      Regular Expressions
    </span>
  </a>

</li>

        <li class="md-nav__item">
  <a href="#links" class="md-nav__link">
    <span class="md-ellipsis">
      Links
    </span>
  </a>

</li>

        <li class="md-nav__item">
  <a href="#authors" class="md-nav__link">
    <span class="md-ellipsis">
      Authors
    </span>
  </a>

</li>

        <li class="md-nav__item">
  <a href="#copyright" class="md-nav__link">
    <span class="md-ellipsis">
      Copyright
    </span>
  </a>

</li>

    </ul>

</nav>

    </li>









    <li class="md-nav__item">
      <a href="../guide/" class="md-nav__link">



  <span class="md-ellipsis">
    Guide

  </span>


      </a>
    </li>














    <li class="md-nav__item md-nav__item--nested">



        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >


          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">



  <span class="md-ellipsis">
    Plugins

  </span>


            <span class="md-nav__icon md-icon"></span>
          </label>

        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Plugins
          </label>
          <ul class="md-nav__list" data-md-scrollfix>







    <li class="md-nav__item">
      <a href="../plugins/" class="md-nav__link">



  <span class="md-ellipsis">
    Overview

  </span>


      </a>
    </li>










    <li class="md-nav__item">
      <a href="../plugins/discover/" class="md-nav__link">



  <span class="md-ellipsis">
    Discover

  </span>


      </a>
    </li>










    <li class="md-nav__item">
      <a href="../plugins/provision/" class="md-nav__link">



  <span class="md-ellipsis">
    Provision

  </span>


      </a>
    </li>










    <li class="md-nav__item">
      <a href="../plugins/prepare/" class="md-nav__link">



  <span class="md-ellipsis">
    Prepare

  </span>


      </a>
    </li>










    <li class="md-nav__item">
      <a href="../plugins/execute/" class="md-nav__link">



  <span class="md-ellipsis">
    Execute

  </span>


      </a>
    </li>










    <li class="md-nav__item">
      <a href="../plugins/report/" class="md-nav__link">



  <span class="md-ellipsis">
    Report

  </span>


      </a>
    </li>










    <li class="md-nav__item">
      <a href="../plugins/finish/" class="md-nav__link">



  <span class="md-ellipsis">
    Finish

  </span>


      </a>
    </li>




          </ul>
        </nav>

    </li>



  </ul>
</nav>
                  </div>
                </div>
              </div>



              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">


<nav class="md-nav md-nav--secondary" aria-label="Table of contents">






    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>

        <li class="md-nav__item">
  <a href="#description" class="md-nav__link">
    <span class="md-ellipsis">
      Description
    </span>
  </a>

</li>

        <li class="md-nav__item">
  <a href="#specification" class="md-nav__link">
    <span class="md-ellipsis">
      Specification
    </span>
  </a>

</li>

        <li class="md-nav__item">
  <a href="#synopsis" class="md-nav__link">
    <span class="md-ellipsis">
      Synopsis
    </span>
  </a>

</li>

        <li class="md-nav__item">
  <a href="#examples" class="md-nav__link">
    <span class="md-ellipsis">
      Examples
    </span>
  </a>

</li>

        <li class="md-nav__item">
  <a href="#options" class="md-nav__link">
    <span class="md-ellipsis">
      Options
    </span>
  </a>

    <nav class="md-nav" aria-label="Options">
      <ul class="md-nav__list">

          <li class="md-nav__item">
  <a href="#run" class="md-nav__link">
    <span class="md-ellipsis">
      Run
    </span>
  </a>

</li>

          <li class="md-nav__item">
  <a href="#tests" class="md-nav__link">
    <span class="md-ellipsis">
      Tests
    </span>
  </a>

</li>

          <li class="md-nav__item">
  <a href="#plans" class="md-nav__link">
    <span class="md-ellipsis">
      Plans
    </span>
  </a>

</li>

          <li class="md-nav__item">
  <a href="#stories" class="md-nav__link">
    <span class="md-ellipsis">
      Stories
    </span>
  </a>

</li>

          <li class="md-nav__item">
  <a href="#utils" class="md-nav__link">
    <span class="md-ellipsis">
      Utils
    </span>
  </a>

</li>

      </ul>
    </nav>

</li>

        <li class="md-nav__item">
  <a href="#install" class="md-nav__link">
    <span class="md-ellipsis">
      Install
    </span>
  </a>

    <nav class="md-nav" aria-label="Install">
      <ul class="md-nav__list">

          <li class="md-nav__item">
  <a href="#pip-install" class="md-nav__link">
    <span class="md-ellipsis">
      pip install
    </span>
  </a>

</li>

      </ul>
    </nav>

</li>

        <li class="md-nav__item">
  <a href="#shell-completion" class="md-nav__link">
    <span class="md-ellipsis">
      Shell Completion
    </span>
  </a>

</li>

        <li class="md-nav__item">
  <a href="#exit-codes" class="md-nav__link">
    <span class="md-ellipsis">
      Exit Codes
    </span>
  </a>

</li>

        <li class="md-nav__item">
  <a href="#variables" class="md-nav__link">
    <span class="md-ellipsis">
      Variables
    </span>
  </a>

    <nav class="md-nav" aria-label="Variables">
      <ul class="md-nav__list">

          <li class="md-nav__item">
  <a href="#command-variables" class="md-nav__link">
    <span class="md-ellipsis">
      Command Variables
    </span>
  </a>

</li>

          <li class="md-nav__item">
  <a href="#step-variables" class="md-nav__link">
    <span class="md-ellipsis">
      Step Variables
    </span>
  </a>

</li>

          <li class="md-nav__item">
  <a href="#test-variables" class="md-nav__link">
    <span class="md-ellipsis">
      Test Variables
    </span>
  </a>

</li>

          <li class="md-nav__item">
  <a href="#plugin-variables" class="md-nav__link">
    <span class="md-ellipsis">
      Plugin Variables
    </span>
  </a>

</li>

      </ul>
    </nav>

</li>

        <li class="md-nav__item">
  <a href="#regular-expressions" class="md-nav__link">
    <span class="md-ellipsis">
      Regular Expressions
    </span>
  </a>

</li>

        <li class="md-nav__item">
  <a href="#links" class="md-nav__link">
    <span class="md-ellipsis">
      Links
    </span>
  </a>

</li>

        <li class="md-nav__item">
  <a href="#authors" class="md-nav__link">
    <span class="md-ellipsis">
      Authors
    </span>
  </a>

</li>

        <li class="md-nav__item">
  <a href="#copyright" class="md-nav__link">
    <span class="md-ellipsis">
      Copyright
    </span>
  </a>

</li>

    </ul>

</nav>
                  </div>
                </div>
              </div>



            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">








<h1 id="overview">Overview<a class="headerlink" href="#overview" title="Permanent link">&para;</a></h1>
<h2 id="description">Description<a class="headerlink" href="#description" title="Permanent link">&para;</a></h2>
<p>The <code>tmt</code> tool provides a user-friendly way to work with tests.
You can comfortably create new tests, safely and easily run tests
across different environments, review test results, debug test
code and enable tests in the CI using a consistent and concise
config.</p>
<p>The python module and command-line tool implement the Metadata
Specification which allows storing all needed test execution data
directly within a git repository. Together with possibility to
reference remote repositories it makes it easy to share test
coverage across projects and distros.</p>
<p>The Flexible Metadata Format <code>fmf</code> is used to store data in both
human and machine readable way close to the source code. Thanks to
inheritance and elasticity metadata are organized in the structure
efficiently, preventing unnecessary duplication.</p>
<h2 id="specification">Specification<a class="headerlink" href="#specification" title="Permanent link">&para;</a></h2>
<p>There are several metadata levels defined by the specification:</p>
<p><strong>Core</strong> attributes such as <code>summary</code> or <code>description</code> which are
common across all levels are defined by the special L0 metadata.</p>
<p><strong>Tests</strong>, or L1 metadata, define attributes which are closely
related to individual test cases such as <code>test</code> script,
<code>framework</code>, directory <code>path</code> where the test should be executed,
maximum test <code>duration</code> or packages required to run the test.</p>
<p><strong>Plans</strong>, also called L2 metadata, are used to group relevant
tests and enable them in the CI. They describe how to <code>discover</code>
tests for execution, how to <code>provision</code> the environment, how to
<code>prepare</code> it for testing, how to <code>execute</code> tests and <code>report</code> test
results.</p>
<p><strong>Stories</strong>, which implement the L3 metadata, can be used to track
implementation, test and documentation coverage for individual
features or requirements. Thanks to this you can track everything
in one place, including the project implementation progress.</p>
<h2 id="synopsis">Synopsis<a class="headerlink" href="#synopsis" title="Permanent link">&para;</a></h2>
<p>Command line usage is straightforward:</p>
<div class="highlight"><pre><span></span><code>tmt<span class="w"> </span><span class="nb">command</span><span class="w"> </span><span class="o">[</span>options<span class="o">]</span>
</code></pre></div>
<h2 id="examples">Examples<a class="headerlink" href="#examples" title="Permanent link">&para;</a></h2>
<p>Let's see which tests, plans and stories are available:</p>
<div class="highlight"><pre><span></span><code>tmt
</code></pre></div>
<p>Initialize the metadata tree in the current directory, optionally
with example content based on templates:</p>
<div class="highlight"><pre><span></span><code>tmt<span class="w"> </span>init
tmt<span class="w"> </span>init<span class="w"> </span>--template<span class="w"> </span>base
</code></pre></div>
<p>Run all or selected steps for each plan:</p>
<div class="highlight"><pre><span></span><code>tmt<span class="w"> </span>run
tmt<span class="w"> </span>run<span class="w"> </span>discover
tmt<span class="w"> </span>run<span class="w"> </span>prepare<span class="w"> </span>execute
</code></pre></div>
<p>See any failures from a previous run:</p>
<div class="highlight"><pre><span></span><code>tmt<span class="w"> </span>run<span class="w"> </span>--last<span class="w"> </span>report<span class="w"> </span>-vvv
</code></pre></div>
<p>Show test output while running:</p>
<div class="highlight"><pre><span></span><code>tmt<span class="w"> </span>run<span class="w"> </span>-vvv
</code></pre></div>
<p>List tests, show details, check against the specification:</p>
<div class="highlight"><pre><span></span><code>tmt<span class="w"> </span>tests<span class="w"> </span>ls
tmt<span class="w"> </span>tests<span class="w"> </span>show
tmt<span class="w"> </span>tests<span class="w"> </span>lint
</code></pre></div>
<p>Create a new test, import test metadata from other formats:</p>
<div class="highlight"><pre><span></span><code>tmt<span class="w"> </span><span class="nb">test</span><span class="w"> </span>create
tmt<span class="w"> </span><span class="nb">test</span><span class="w"> </span>import
</code></pre></div>
<p>List plans, show details, check against the specification:</p>
<div class="highlight"><pre><span></span><code>tmt<span class="w"> </span>plans<span class="w"> </span>ls
tmt<span class="w"> </span>plans<span class="w"> </span>show
tmt<span class="w"> </span>plans<span class="w"> </span>lint
</code></pre></div>
<p>List stories, check details, show coverage status:</p>
<div class="highlight"><pre><span></span><code>tmt<span class="w"> </span>stories<span class="w"> </span>ls
tmt<span class="w"> </span>stories<span class="w"> </span>show
tmt<span class="w"> </span>stories<span class="w"> </span>coverage
</code></pre></div>
<p>Many commands support regular expression filtering and other
specific options:</p>
<div class="highlight"><pre><span></span><code>tmt<span class="w"> </span>stories<span class="w"> </span>ls<span class="w"> </span>cli
tmt<span class="w"> </span>stories<span class="w"> </span>show<span class="w"> </span>create
tmt<span class="w"> </span>stories<span class="w"> </span>coverage<span class="w"> </span>--implemented
</code></pre></div>
<p>Check help message of individual commands for the full list of
available options.</p>
<h2 id="options">Options<a class="headerlink" href="#options" title="Permanent link">&para;</a></h2>
<p>Here is the list of the most frequently used commands and options.</p>
<h3 id="run">Run<a class="headerlink" href="#run" title="Permanent link">&para;</a></h3>
<p>The <code>run</code> command is used to execute test steps. By default all
test steps are run. See the L2 Metadata specification for detailed
description of individual steps. Here is a brief overview:</p>
<p>discover
:   Gather information about test cases to be executed.</p>
<p>provision
:   Provision an environment for testing or use localhost.</p>
<p>prepare
:   Prepare the environment for testing.</p>
<p>execute
:   Run tests using the specified executor.</p>
<p>report
:   Provide test results overview and send reports.</p>
<p>finish
:   Perform the finishing tasks and clean up provisioned guests.</p>
<h3 id="tests">Tests<a class="headerlink" href="#tests" title="Permanent link">&para;</a></h3>
<p>Manage tests (L1 metadata). Check available tests, inspect their
metadata, gather old metadata from various sources and stored them
in the new fmf format.</p>
<p>ls
:   List available tests.
show
:   Show test details.
lint
:   Check tests against the L1 metadata specification.
create
:   Create a new test based on given template.
import
:   Convert old test metadata into the new fmf format.</p>
<h3 id="plans">Plans<a class="headerlink" href="#plans" title="Permanent link">&para;</a></h3>
<p>Manage test plans (L2 metadata). Search for available plans.
Explore detailed test step configuration.</p>
<p>ls
:   List available plans.
show
:   Show plan details.
lint
:   Check plans against the L2 metadata specification.</p>
<h3 id="stories">Stories<a class="headerlink" href="#stories" title="Permanent link">&para;</a></h3>
<p>Manage user stories. Check available user stories. Explore
coverage (test, implementation, documentation).</p>
<p>ls
:   List available stories.
show
:   Show story details.
coverage
:   Show code, test and docs coverage for given stories.
export
:   Export selected stories into desired format.</p>
<h3 id="utils">Utils<a class="headerlink" href="#utils" title="Permanent link">&para;</a></h3>
<p>Various utility options.</p>
<p>--root PATH
:   Path to the metadata tree, current directory used by default.</p>
<p>--verbose
:   Print additional information.</p>
<p>--debug
:   Turn on debugging output.</p>
<p>--log-topic NAME
:   Enable logging for a specific topic, useful for debugging particular
    areas. For example, to see logs related to policy processing,
    you can use:</p>
<div class="highlight"><pre><span></span><code>```bash
tmt --log-topic policy test export --policy ../policies/test/environment.yaml
```
</code></pre></div>
<p>Check help message of individual commands for the full list of
available options.</p>
<h2 id="install">Install<a class="headerlink" href="#install" title="Permanent link">&para;</a></h2>
<p>The main <code>tmt</code> package provides the core features with a minimal
set of dependencies:</p>
<div class="highlight"><pre><span></span><code>sudo<span class="w"> </span>dnf<span class="w"> </span>install<span class="w"> </span>tmt
</code></pre></div>
<p>In order to enable additional functionality, such as particular
provision or report plugins, install the respective subpackage:</p>
<div class="highlight"><pre><span></span><code>sudo<span class="w"> </span>dnf<span class="w"> </span>install<span class="w"> </span>tmt+test-convert
sudo<span class="w"> </span>dnf<span class="w"> </span>install<span class="w"> </span>tmt+provision-container
sudo<span class="w"> </span>dnf<span class="w"> </span>install<span class="w"> </span>tmt+provision-virtual
</code></pre></div>
<p>If you don't care about disk space and want to have all available
features right at hand install everything:</p>
<div class="highlight"><pre><span></span><code>sudo<span class="w"> </span>dnf<span class="w"> </span>install<span class="w"> </span>tmt+all
</code></pre></div>
<p>For CentOS and RHEL, first make sure that you have available the
<a href="https://docs.fedoraproject.org/en-US/epel/">EPEL</a> repository.
You might also have to enable additional repositories:</p>
<div class="highlight"><pre><span></span><code>sudo<span class="w"> </span>dnf<span class="w"> </span>config-manager<span class="w"> </span>--enable<span class="w"> </span>crb<span class="w">         </span><span class="c1"># CentOS 9</span>
sudo<span class="w"> </span>dnf<span class="w"> </span>config-manager<span class="w"> </span>--enable<span class="w"> </span>rhel-CRB<span class="w">    </span><span class="c1"># RHEL 9</span>
sudo<span class="w"> </span>dnf<span class="w"> </span>install<span class="w"> </span>https://dl.fedoraproject.org/pub/epel/epel-release-latest-9.noarch.rpm

sudo<span class="w"> </span>dnf<span class="w"> </span>install<span class="w"> </span>tmt
</code></pre></div>
<p>For plugins which cannot work outside of VPN and so live within
its walls you need to enable the internal copr repository first.
Then you can install either everything or only those you need:</p>
<div class="highlight"><pre><span></span><code>sudo<span class="w"> </span>dnf<span class="w"> </span>install<span class="w"> </span>tmt-redhat-all
sudo<span class="w"> </span>dnf<span class="w"> </span>install<span class="w"> </span>tmt-redhat-*
</code></pre></div>
<p>Do you like to check the released bits as soon as they are out?
Enable the <code>stable</code> copr repository and install from there:</p>
<div class="highlight"><pre><span></span><code>sudo<span class="w"> </span>dnf<span class="w"> </span>copr<span class="w"> </span><span class="nb">enable</span><span class="w"> </span>@teemtee/stable
</code></pre></div>
<p>Impatient to try the fresh features as soon as they are merged
into the <code>main</code> branch? Enable the <code>latest</code> copr repository:</p>
<div class="highlight"><pre><span></span><code>sudo<span class="w"> </span>dnf<span class="w"> </span>copr<span class="w"> </span><span class="nb">enable</span><span class="w"> </span>@teemtee/latest
</code></pre></div>
<p>Not sure, just want to try out how it works? Experiment safely and
easily inside a container:</p>
<div class="highlight"><pre><span></span><code>podman<span class="w"> </span>run<span class="w"> </span>-it<span class="w"> </span>--rm<span class="w"> </span>quay.io/teemtee/tmt<span class="w"> </span>bash
podman<span class="w"> </span>run<span class="w"> </span>-it<span class="w"> </span>--rm<span class="w"> </span>quay.io/teemtee/tmt-all<span class="w"> </span>bash
</code></pre></div>
<h3 id="pip-install">pip install<a class="headerlink" href="#pip-install" title="Permanent link">&para;</a></h3>
<p>When installing using <code>pip</code> you might need to install additional
packages on your system:</p>
<div class="highlight"><pre><span></span><code>sudo<span class="w"> </span>dnf<span class="w"> </span>install<span class="w"> </span>gcc<span class="w"> </span>redhat-rpm-config
sudo<span class="w"> </span>dnf<span class="w"> </span>install<span class="w"> </span><span class="o">{</span>python3,libvirt,krb5,libpq<span class="o">}</span>-devel
pip<span class="w"> </span>install<span class="w"> </span>--user<span class="w"> </span>tmt
</code></pre></div>
<p>On other distributions than Fedora or RHEL the package names might
be different. For example on Ubuntu to install all packages to
have provision plugins working:</p>
<div class="highlight"><pre><span></span><code>sudo<span class="w"> </span>apt<span class="w"> </span>install<span class="w"> </span>libkrb5-dev<span class="w"> </span>pkg-config<span class="w"> </span>libvirt-dev<span class="w"> </span>genisoimage<span class="w"> </span>qemu-kvm<span class="w"> </span>libvirt-daemon-system
pip<span class="w"> </span>install<span class="w"> </span>--user<span class="w"> </span><span class="s2">&quot;tmt[provision]&quot;</span>
</code></pre></div>
<p>Note: You can omit the <code>--user</code> flag if in a virtual environment.</p>
<h2 id="shell-completion">Shell Completion<a class="headerlink" href="#shell-completion" title="Permanent link">&para;</a></h2>
<p>The rpm package includes a system wide script which enables the
command line completion for <code>bash</code> so no additional config
should be needed. If you use a different installation method or
prefer another shell, see the instructions below.</p>
<p>For Bash, add this to <code>~/.bashrc</code>:</p>
<div class="highlight"><pre><span></span><code><span class="nb">eval</span><span class="w"> </span><span class="s2">&quot;</span><span class="k">$(</span><span class="nv">_TMT_COMPLETE</span><span class="o">=</span>source_bash<span class="w"> </span>tmt<span class="k">)</span><span class="s2">&quot;</span>
</code></pre></div>
<p>For Zsh, add this to <code>~/.zshrc</code>:</p>
<div class="highlight"><pre><span></span><code><span class="nb">eval</span><span class="w"> </span><span class="s2">&quot;</span><span class="k">$(</span><span class="nv">_TMT_COMPLETE</span><span class="o">=</span>source_zsh<span class="w"> </span>tmt<span class="k">)</span><span class="s2">&quot;</span>
</code></pre></div>
<p>For Fish, add this to <code>~/.config/fish/completions/tmt.fish</code>:</p>
<div class="highlight"><pre><span></span><code><span class="nb">eval</span><span class="w"> </span><span class="o">(</span>env<span class="w"> </span><span class="nv">_TMT_COMPLETE</span><span class="o">=</span>source_fish<span class="w"> </span>tmt<span class="o">)</span>
</code></pre></div>
<p>Open a new shell to enable completion. Or run the <code>eval</code> command
directly in your current shell to enable it temporarily.</p>
<p>This is however run every time you start a shell which can cause
some delay. To speed it up, write the generated script to a file
and then source it from your shell's configuration file. All
of this can be achieved using <code>tmt setup completion</code> command.
By default, it outputs the completion script to the terminal but
it can also add it to your <code>~/.bashrc</code> or <code>~/.zshrc</code> using
the <code>--install</code> option:</p>
<div class="highlight"><pre><span></span><code>tmt<span class="w"> </span>setup<span class="w"> </span>completion<span class="w"> </span><span class="o">{</span>bash,<span class="w"> </span>zsh,<span class="w"> </span>fish<span class="o">}</span><span class="w"> </span>--install
</code></pre></div>
<h2 id="exit-codes">Exit Codes<a class="headerlink" href="#exit-codes" title="Permanent link">&para;</a></h2>
<p>The following exit codes are returned from <code>tmt run</code>. Note that
you can use the <code>--quiet</code> option to completely disable output
and only check for the exit code.</p>
<p>0
:   At least one test passed, there was no fail, warn or error.
1
:   There was a fail or warn identified, but no error.
2
:   Errors occurred during test execution.
3
:   No test results found.
4
:   Tests were executed, and all reported the <code>skip</code> result.</p>
<h2 id="variables">Variables<a class="headerlink" href="#variables" title="Permanent link">&para;</a></h2>
<p>The list of available environment variables which can be used to
adjust the execution.</p>
<h3 id="command-variables">Command Variables<a class="headerlink" href="#command-variables" title="Permanent link">&para;</a></h3>
<p>The following environment variables can be used to modify
behaviour of the <code>tmt</code> command.</p>
<p>TMT_DEBUG
:   Enable the desired debug level. Most of the commands support
    levels from 1 to 3. However, some of the plugins go even
    deeper when needed.</p>
<p>TMT_PLUGINS
:   Path to a directory with additional plugins. Multiple paths
    separated with the <code>:</code> character can be provided as well.</p>
<p>TMT_FEELING_SAFE
:   Set this variable to <code>1</code> to enable potentially dangerous
    operations such as executing tests directly on the test runner
    using the <code>local</code> provision method. Use with caution, only
    when you can fully trust the <code>tmt</code> metadata or if you know
    what you are doing.</p>
<p>TMT_CONFIG_DIR
:   Path to an alternative directory with config files. By default
    <code>~/.config/tmt</code> is used.</p>
<p>TMT_WORKDIR_ROOT
:   Path to root directory containing run workdirs. Defaults to
    <code>/var/tmp/tmt</code>.</p>
<p>NO_COLOR, TMT_NO_COLOR
:   Disable colors in the output, both the actual output and
    logging messages. Output only plain, non-colored text.</p>
<div class="highlight"><pre><span></span><code>Two variables are accepted, one with the usual `TMT_`
prefix, but tmt accepts also `NO_COLOR` to support the
NO_COLOR effort, see https://no-color.org/ for more
information.
</code></pre></div>
<p>TMT_FORCE_COLOR
:   Enforce colors in the output, both the actual output and
    logging messages. Might come handy when tmt's output streams
    are not terminal-like, yet its output would be displayed by
    tools with ANSI color support. This is often the case of
    various CI systems.</p>
<div class="highlight"><pre><span></span><code>Note that `TMT_FORCE_COLOR` takes priority over `NO_COLOR`
and `TMT_NO_COLOR`. If user tries both to disable and enable
colorization, output would be colorized.
</code></pre></div>
<p>TMT_SHOW_TRACEBACK
:   By default, when tmt reports an error, the corresponding
    traceback is not printed out. By setting this variable, the
    traceback and details would be shown:</p>
<div class="highlight"><pre><span></span><code>TMT_SHOW_TRACEBACK=0 (or unset)
:   Render only exception and its causes.

TMT_SHOW_TRACEBACK=1
:   Render also call stack for exception and each of its causes.

TMT_SHOW_TRACEBACK=2
:   Render also call stack for exception and each of its causes,
    plus all local variables in each frame, trimmed to first 1024
    characters of their values.

TMT_SHOW_TRACEBACK=full
:   Render everything that can be show: all causes, their call
    stacks, all frames and all locals in their completeness.
</code></pre></div>
<p>TMT_OUTPUT_WIDTH
:   By default, the output width of commands like <code>tmt * show</code> is constrained
    to 79 characters. Set this variable to an integer to change the limit.</p>
<p>TMT_GIT_CREDENTIALS_URL_&lt;suffix&gt;, TMT_GIT_CREDENTIALS_VALUE_&lt;suffix&gt;
:   Variable pairs used to provide credentials to clone git repositories. This
    is needed when working with private repositories. The suffix identifies
    the pair and determines the order in which URL regexp is tried.</p>
<div class="highlight"><pre><span></span><code>The `TMT_GIT_CREDENTIALS_URL_&lt;suffix&gt;` contains regexp to search against
url to clone. For first successful search the content of the
`TMT_GIT_CREDENTIALS_VALUE_&lt;suffix&gt;` variable is used as the credential
value. When it is set to an empty string, unmodified url is used.

For `GitLab` private repositories, you have three options for specifying
the credentials:

*   [Personal Access Tokens](https://docs.gitlab.com/user/profile/personal_access_tokens/):

    Good for user-specific permissions or service accounts. For read-only
    access, use the `read_repository` scope:

    ```
    TMT_GIT_CREDENTIALS_URL_lab=&#39;gitlab.com/mysecretproject&#39;
    TMT_GIT_CREDENTIALS_VALUE_lab=&#39;your_gitlab_username:your_pat&#39;
    ```

*   [Deploy Tokens](https://docs.gitlab.com/user/project/deploy_tokens/):

    Best for automated read-only access. Project-specific, not tied to
    a user, and provides strict read-only repository access:

    ```
    TMT_GIT_CREDENTIALS_URL_lab=&#39;gitlab.com/mysecretproject&#39;
    TMT_GIT_CREDENTIALS_VALUE_lab=&#39;gitlab+deploy-token-123:abcxyz123&#39;
    ```

*   [OAuth2 Tokens](https://docs.gitlab.com/api/oauth2/):

    Secure short-lived tokens with the `read_repository` scope:

    ```
    TMT_GIT_CREDENTIALS_URL_lab=&#39;gitlab.com/mysecretproject&#39;
    TMT_GIT_CREDENTIALS_VALUE_lab=&#39;oauth2:your_oauth2_token&#39;
    ```

For `GitHub` private repositories, you have only a single method
for specifying the cloning credentials:

*   [OAuth Tokens](https://docs.github.com/en/authentication/connecting-to-github-with-ssh/managing-deploy-keys#https-cloning-with-oauth-tokens):

    You need to create a [personal access token](https://docs.github.com/en/authentication/keeping-your-account-and-data-secure/managing-your-personal-access-tokens) and specify it without
    your username. Both `classic` and `fine-grained` personal
    access tokens can be used:

    ```
    TMT_GIT_CREDENTIALS_URL_hub=&#39;github.com/teemtee&#39;
    TMT_GIT_CREDENTIALS_VALUE_hub=&#39;personaltoken&#39;
    ```
</code></pre></div>
<p>TMT_GIT_CLONE_ATTEMPTS
:   The maximum number of retries to clone a git repository if it
    fails. By default, 3 attempts are done.</p>
<p>TMT_GIT_CLONE_INTERVAL
:   The interval (in seconds) to retry cloning a git repository
    again, 10 seconds by default.</p>
<p>TMT_GIT_CLONE_TIMEOUT
:   Overall maximum time in seconds to clone a git repository. By
    default, the limit is not set.</p>
<p>TMT_BOOT_TIMEOUT
:   How many seconds to wait for a guest to boot. Applies to provision
    plugins that control the guest creation, e.g. <code>virtual</code>. By
    default, it is 2 minutes.</p>
<p>TMT_CONNECT_TIMEOUT
:   How many seconds to wait for a connection to succeed after guest
    boot. By default, it is 2 minutes.</p>
<p>TMT_REBOOT_TIMEOUT
:   How many seconds to wait for a connection to succeed after
    guest reboot. By default, it is 10 minutes.</p>
<p>TMT_SCRIPTS_DIR
:   Destination directory for storing <code>tmt</code> scripts on the guest.
    By default <code>/usr/local/bin</code> is used, except for guests using
    <code>rpm-ostree</code>, where <code>/var/lib/tmt/scripts</code> is used. See the
    <a href="../plugins/execute/#tmt">tmt internal test executor</a> documentation for more details
    on the scripts installed on the guest.</p>
<p>TMT_SSH_*
:   Every environment variable in this format would be treated as an SSH
    option, and passed to the <code>-o</code> option of <code>ssh</code> command. See
    <code>man 5 ssh_config</code> for the list of all options.</p>
<div class="highlight"><pre><span></span><code>The environment variable name would be converted into an SSH option,
e.g. `export TMT_SSH_CONNECTION_ATTEMPTS=5` would become
`-oConnectionAttempts=5`. `export TMT_SSH_ConnectionAttempts=5`
would also be accepted.

SSH options provided via environment variables will be overruled by
guest-specific `ssh-options` key.
</code></pre></div>
<p>TMT_REPORT_ARTIFACTS_URL
:   Link to test artifacts provided for report plugins.</p>
<p>TMT_POLICY_FILE
:   Location of a file with policy rules for modification of test
    metadata keys. Both absolute and relative paths are accepted; a
    relative path is interpreted either against the current working
    directory, or against the policy root directory if it was specified.</p>
<div class="highlight"><pre><span></span><code>See [tmt policy specification](spec/policy.html) for more details on policies.
</code></pre></div>
<p>TMT_POLICY_NAME
:   Name of the file with policy rules for modification of test metadata
    keys. The name would be extended with <code>.yaml</code> suffix, and tmt will
    try to locate it under the policy root directory.</p>
<div class="highlight"><pre><span></span><code>See [tmt policy specification](spec/policy.html) for more details on policies.
</code></pre></div>
<p>TMT_POLICY_ROOT
:   If set, policy files must be located under this directory. Policy
    specified by its name is searched under this directory only, and
    policy specified by its filepath will be allowed only if the
    filepath is under this directory.</p>
<div class="highlight"><pre><span></span><code>See [tmt policy specification](spec/policy.html) for more details on policies.
</code></pre></div>
<h3 id="step-variables">Step Variables<a class="headerlink" href="#step-variables" title="Permanent link">&para;</a></h3>
<p>The following environment variables are provided to the environment
during <code>prepare</code>, <code>execute</code> and <code>finish</code> steps:</p>
<p>TMT_TREE
:   The full path of the working directory where the metadata tree
    is copied. This usually contains the whole git repository where
    tmt plans are located in. Notice that it might not contain tmt
    tests if tmt plans and tests are in different git repositories.</p>
<p>TMT_PLAN_DATA
:   Path to the common directory used for storing logs and other
    artifacts related to the whole plan execution. It is pulled
    back from the guest and available for inspection after the
    plan is completed.</p>
<p>TMT_PLAN_ENVIRONMENT_FILE
:   Path to the file containing environment variables that should
    be sourced after prepare and execute steps. These variables will
    be accessible for all subsequent steps and have lower priority
    than variables specified by the <code>environment</code> key,
    <code>environment-file</code> key, or the command line. Variables inside
    the file have to be in the format of <code>NAME=VALUE</code> and each
    variable should be on a separate line.</p>
<div class="highlight"><pre><span></span><code>Example of the file content:

```
COUNT=1
VARIABLE=VALUE
ANOTHER_VARIABLE=ANOTHER_VALUE
```
</code></pre></div>
<p>TMT_VERSION
:   The version of tmt.</p>
<h3 id="test-variables">Test Variables<a class="headerlink" href="#test-variables" title="Permanent link">&para;</a></h3>
<p>The following environment variables are provided to the test
during the execution:</p>
<p>TMT_TEST_NAME
:   The test name, as a resolved FMF object name starting with <code>/</code>
    from the root of the hierarchy.</p>
<p>TMT_TEST_DATA
:   Path to the directory where test can store logs and other
    artifacts generated during its execution. These will be pulled
    back from the guest and available for inspection after the
    test execution is finished.</p>
<p>TMT_TEST_SERIAL_NUMBER
:   The serial number of running test in the whole plan. Each test
    is assigned its own serial number.</p>
<p>TMT_TEST_ITERATION_ID
:   The iteration ID is a combination of a unique run ID and the test
    serial number. The value is different for each new test execution.</p>
<p>TMT_TEST_METADATA
:   Path to a YAML-formatted file with test metadata collected
    during the <code>discover</code> step.</p>
<p>TMT_SOURCE_DIR
:   Path to directory with downloaded and extracted sources if
    the <code>dist-git-source</code> option was used in the <code>discover</code>
    step.</p>
<p>TMT_REBOOT_COUNT
:   During the test execution the <code>tmt-reboot</code> command can be
    used to request reboot of the guest. This variable contains
    number of reboots which already happened during the test.
    Value is set to <code>0</code> if no reboot occurred.</p>
<div class="highlight"><pre><span></span><code>In order to keep backward-compatibility with older tests,
`rhts-reboot` and `rstrnt-reboot` commands are supported
for requesting the reboot, variables `REBOOTCOUNT` and
`RSTRNT_REBOOTCOUNT` contain number of reboots as well.
</code></pre></div>
<p>TMT_TEST_RESTART_COUNT
:   This variable contains number of times the test was restarted. Such
    restarts may be consequence of guest reboot, in which case
    <code>TMT_REBOOT_COUNT</code> gets incremented as well, or test crashed and
    has been restarted. Value is set to <code>0</code> when the test starts for
    the first time.</p>
<p>TMT_TOPOLOGY_BASH, TMT_TOPOLOGY_YAML
:   Paths of files describing existing guests, their roles and the
    guest on which the test is running. Format of these files
    is described in the <code>Guest Topology Format</code> section of the
    plan specification.</p>
<p>TMT_TEST_PIDFILE, TMT_TEST_PIDFILE_LOCK
:   Path to a file storing the test process pid and path to its
    reboot-request file, separated by a space. The "LOCK" variable
    then holds path to a locking file which must be acquired before
    making any changes to the pid file.</p>
<p>TMT_TEST_PIDFILE_ROOT
:   By default, the test pidfile file is stored in <code>/var/tmp</code>
    directory. If specified, the directory in this variable would be
    used instead. The directory permissions should follow the pattern
    of temporary directory permissions, e.g. <code>chmod 1777</code>, to
    allow access to users with all privilege levels.</p>
<h3 id="plugin-variables">Plugin Variables<a class="headerlink" href="#plugin-variables" title="Permanent link">&para;</a></h3>
<p>Each plugin option can be also specified via environment variable.
Variables follow a naming scheme utilizing plugin name, step it
belongs to, and the option name:</p>
<p><code>TMT_PLUGIN_${STEP}_${PLUGIN}_${OPTION}</code></p>
<p>All values are upper-cased, with dashes (<code>-</code>) replaced by
underscores (<code>_</code>).</p>
<p>For example, an execute plugin "tmt" would run with verbosity
equal to <code>-vvv</code>:</p>
<div class="highlight"><pre><span></span><code>TMT_PLUGIN_EXECUTE_TMT_VERBOSE=3 tmt run ... execute -h tmt ...
</code></pre></div>
<p>Command-line takes precedence over environment variables, therefore
<code>-v</code> would undo the effect of environment variable, and reduce
verbosity to one level only:</p>
<div class="highlight"><pre><span></span><code>TMT_PLUGIN_EXECUTE_TMT_VERBOSE=3 tmt run ... execute -h tmt -v ...
</code></pre></div>
<p>Environment variables - just like command-line options - take
precedence over values stored in files. For example, consider the
following discover step:</p>
<div class="highlight"><pre><span></span><code><span class="nt">discover</span><span class="p">:</span>
<span class="w">    </span><span class="nt">how</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">fmf</span>
<span class="w">    </span><span class="nt">url</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">https://example.org/</span>
</code></pre></div>
<p>The following commands would override the URL:</p>
<div class="highlight"><pre><span></span><code>tmt run ... discover -h fmf --url https://actual.org/ ...
</code></pre></div>
<div class="highlight"><pre><span></span><code>TMT_PLUGIN_DISCOVER_FMF_URL=https://actual.org/ tmt run ...
</code></pre></div>
<p>For setting flag-like option, 0 and 1 are the expected value. For
example, an interactive mode would be enabled in this run:</p>
<div class="highlight"><pre><span></span><code>TMT_PLUGIN_EXECUTE_TMT_INTERACTIVE=1 tmt run ... execute -h tmt ...
</code></pre></div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The following applies to situations when a plugin is specified
on the command line only. Keys of plugins specified in fmf files
would not be modified. This is a limit of the current implementation,
and will be addressed in the future:</p>
<div class="highlight"><pre><span></span><code># Here the verbosity will not be increased since the plugin is
# not mentioned on the command line:
$ TMT_PLUGIN_DISCOVER_FMF_VERBOSE=2 tmt run -a

# Here the environment variable will take effect:
$ TMT_PLUGIN_DISCOVER_FMF_VERBOSE=2 tmt run -a discover -h fmf ...
</code></pre></div>
<p>Several plugins (<code>report -h reportportal</code>, <code>report -h polarion</code>,
<code>execute -h tmt</code>) allow selected variables to be processed,
even when plugin is not specified on the command line.</p>
</div>
<h2 id="regular-expressions">Regular Expressions<a class="headerlink" href="#regular-expressions" title="Permanent link">&para;</a></h2>
<p>Many specification keys and command line options accept regular
expressions, e.g. to filter a set of tests, <code>tmt run ... test
--name '^/foo'</code>. Whenever tmt works with regular expressions, the
following rules apply.</p>
<p><strong>Python implementation</strong>
:   Since tmt is implemented in Python, Python's <a href="https://docs.python.org/3.9/library/re.html">re</a> package is
    used for handling regular expressions. It comes with Python
    standard library, and it is widely used and well documented.
    For the deep dive into supported syntax, see
    <a href="https://docs.python.org/3.9/library/re.html#regular-expression-syntax">Regular Expression Syntax</a> section, for a gentler
    introduction there is a <a href="https://docs.python.org/3.9/howto/regex.html#regex-howto">Regular Expression</a> HOWTO.</p>
<p><strong>Search versus match</strong>
:   There are two ways how to check whether a regular expression
    matches a string: "match" or "search":</p>
<div class="highlight"><pre><span></span><code>*   in the &quot;match&quot; mode, the pattern must match from the very
    beginning of the string. For example, `foo.ar` would match
    `foobar` but not `/foobar`. It works in a &quot;starts with&quot;
    fashion.
*   on the other hand, the &quot;search&quot; mode is more similar to
    &quot;contains&quot; approach, and allows pattern to match anywhere in
    the string. In this mode, `foo.ar` would match both
    `foobar` and `/foobar`.

In both modes, any characters may follow the matching pattern,
e.g. regular expression `foo.bar` is the same as
`foo.bar.*`.

tmt sticks to the &quot;search&quot; mode by default. But, to improve
user experience, some keys and command line options do use the
&quot;match&quot; mode. Such keys and options will note this in their
documentation or help texts.
</code></pre></div>
<h2 id="links">Links<a class="headerlink" href="#links" title="Permanent link">&para;</a></h2>
<ul>
<li><strong>Git:</strong> <a href="https://github.com/teemtee/tmt">https://github.com/teemtee/tmt</a></li>
<li><strong>Docs:</strong> <a href="https://tmt.readthedocs.io/">https://tmt.readthedocs.io/</a></li>
<li><strong>Stories:</strong> <a href="https://tmt.readthedocs.io/en/stable/stories.html">https://tmt.readthedocs.io/en/stable/stories.html</a></li>
<li><strong>Issues:</strong> <a href="https://github.com/teemtee/tmt/issues">https://github.com/teemtee/tmt/issues</a></li>
<li><strong>Releases:</strong> <a href="https://tmt.readthedocs.io/en/stable/releases.html">https://tmt.readthedocs.io/en/stable/releases.html</a></li>
<li><strong>Copr:</strong> <a href="https://copr.fedorainfracloud.org/coprs/g/teemtee/stable/">https://copr.fedorainfracloud.org/coprs/g/teemtee/stable/</a></li>
<li><strong>PIP:</strong> <a href="https://pypi.org/project/tmt/">https://pypi.org/project/tmt/</a></li>
<li><strong>Quay:</strong> <a href="https://quay.io/organization/teemtee">https://quay.io/organization/teemtee</a></li>
<li><strong>Metadata Specification:</strong> <a href="https://tmt.readthedocs.io/en/stable/spec.html">https://tmt.readthedocs.io/en/stable/spec.html</a></li>
<li><strong>Flexible Metadata Format:</strong> <a href="https://fmf.readthedocs.io/">https://fmf.readthedocs.io/</a></li>
<li><strong>Testing Farm:</strong> <a href="https://docs.testing-farm.io/">https://docs.testing-farm.io/</a></li>
<li><strong>Packit:</strong> <a href="https://packit.dev/testing-farm/">https://packit.dev/testing-farm/</a></li>
</ul>
<h2 id="authors">Authors<a class="headerlink" href="#authors" title="Permanent link">&para;</a></h2>
<p>Petr plchal, Miro Hronok, Alexander Sosedkin, Luk Zachar,
Petr Menk, Leo Pol, Miroslav Vadkerti, Pavel Valena, Jakub
Heger, Honza Hork, Rachel Sibley, Frantiek Neas, Michal
Ruprich, Martin Kyral, Milo Prchlk, Tom Navrtil, Frantiek
Lachman, Patrik Kis, Ondrej Mosnek, Andrea Fickov, Denis
Karpelevich, Michal Srb, Jan otka, Artem Zhukov, Vinzenz
Feenstra, Inessa Vasilevskaya, tpn Nmec, Robin Hack, Yulia
Kopkova, Ondrej Mori, Martin Zelen, Karel rot, Frantiek
Zatloukal, Simon Walter, Petr Maty, Yariv Rachmani, Pavel
Cahyna, Martin Litwora, Brian Grech, Vojtch Eichler, Philip Daly,
Vector Li, Evgeny Fedin, Guy Inger, Adrin Tomaov, Jan Havln,
Luk Kotek, Daniel Diblk, Laura Barcziova, Marin Konek,
Marcin Sobczyk, Ji Jabrek, Huijing Hei, Tibor Dudlk, Jan
Mack, Filip Vgner, Martin Hoyer, Iveta esalov, Yi Zhang,
Zhaojuan Guo, Natlia Bubkov, Michal Josef paek, Ji Popelka,
Matej Focko, Yulia Kopkova, Tom Bajer, Carlos Rodriguez-Fernandez,
James Molet, Cristian Le, Lili Nie, Martin ermk, Michael Vogt,
Qinghua Cheng, Michael Engel, Anatoli Babenia, Colin Walters,
Link Dupont, Mario Casquero, Martin Kluso, Pavel Holica,
Otto abart, Ismail Ibrahim Quwarah, Sergei Petrosian, Tom
Koscielniak, Han Han, Luigi Pellecchia, Siteshwar Vashisht,
Chris Kyrouac, Xiaofeng Wang, Coiby Xu, Michal Pospil, Wayne
Sun, Evgeni Vakhonin, Mike Stowell, Therese Cornell and Mingyu Shi.</p>
<h2 id="copyright">Copyright<a class="headerlink" href="#copyright" title="Permanent link">&para;</a></h2>
<p>Copyright Red Hat</p>
<p>This program is free software; you can redistribute it and/or
modify it under the terms of the MIT License.</p>













              </article>
            </div>


<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>

      </main>

        <footer class="md-footer">

  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">


    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>

</div>

    </div>
  </div>
</footer>

    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>




      <script id="__config" type="application/json">{"base": "..", "features": [], "search": "../assets/javascripts/workers/search.d50fe291.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>


      <script src="../assets/javascripts/bundle.56ea9cef.min.js"></script>


  </body>
</html>